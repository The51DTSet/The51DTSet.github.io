{"version":3,"file":"component---src-templates-post-template-tsx-6c43d9ac30ea0bf99e8a.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/components/Post/PostHeadInfo.tsx","webpack://gatsby-starter-default/./src/components/Post/PostHead.tsx","webpack://gatsby-starter-default/./src/components/Post/PostContent.tsx","webpack://gatsby-starter-default/./src/components/Post/CommentWidget.tsx","webpack://gatsby-starter-default/./src/components/Post/PostToc.tsx","webpack://gatsby-starter-default/./src/components/Post/PostAuthor.tsx","webpack://gatsby-starter-default/./src/templates/post_template.tsx"],"sourcesContent":["import React, { FunctionComponent, useEffect, useRef } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons'\n\nexport type PostHeadInfoProps = {\n  title: string\n  date: string\n  categories: string[]\n}\n\nconst PostHeadInfo: FunctionComponent<PostHeadInfoProps> = function ({\n  title,\n  date,\n  categories,\n}) {\n  const initialHistoryLength = useRef(0)\n\n  useEffect(() => {\n    initialHistoryLength.current = history.length\n  }, [])\n\n  const goBackPage = () => {\n    history.go(-(history.length - initialHistoryLength.current + 1))\n  }\n\n  return (\n    <div className=\"post-head-info\">\n      <div className=\"inner\">\n        <button type=\"button\" onClick={goBackPage} className=\"btn-back\">\n          <FontAwesomeIcon icon={faArrowLeft} />\n        </button>\n        <div className=\"post-title\">{title}</div>\n        <div className=\"post-info\">\n          <div>{categories.join(' / ')}</div>\n          <div>{date}</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default PostHeadInfo\n","import React, { FunctionComponent } from 'react'\nimport { GatsbyImage, IGatsbyImageData } from 'gatsby-plugin-image'\nimport PostHeadInfo, { PostHeadInfoProps } from 'components/Post/PostHeadInfo'\n\ntype PostHeadProps = PostHeadInfoProps & {\n  thumbnail: IGatsbyImageData\n}\n\nconst PostHead: FunctionComponent<PostHeadProps> = function ({\n  title,\n  date,\n  categories,\n  thumbnail,\n}) {\n  return (\n    <div className=\"post-head\">\n      <GatsbyImage image={thumbnail} alt=\"thumbnail\" className=\"post-head-bg\" />\n      <PostHeadInfo title={title} date={date} categories={categories} />\n    </div>\n  )\n}\n\nexport default PostHead\n","import React, { FunctionComponent } from 'react'\n\ninterface PostContentProps {\n  html: string\n}\n\nconst PostContent: FunctionComponent<PostContentProps> = function ({ html }) {\n  return (\n    <div dangerouslySetInnerHTML={{ __html: html }} className=\"post-contents\" />\n  )\n}\n\nexport default PostContent\n","import React, { createRef, FunctionComponent, useEffect } from 'react'\n\nconst src = 'https://utteranc.es/client.js'\nconst repo = 'The51DTSet/The51DTSet.github.io' // 자신 계정의 레포지토리로 설정\n\ntype UtterancesAttributesType = {\n  src: string\n  repo: string\n  'issue-term': string\n  label: string\n  theme: string\n  crossorigin: string\n  async: string\n}\n\nconst CommentWidget: FunctionComponent = function () {\n  const element = createRef<HTMLDivElement>()\n\n  useEffect(() => {\n    if (element.current === null) return\n\n    const utterances: HTMLScriptElement = document.createElement('script')\n\n    const attributes: UtterancesAttributesType = {\n      src,\n      repo,\n      'issue-term': 'pathname',\n      label: 'Comment',\n      theme: `github-light`,\n      crossorigin: 'anonymous',\n      async: 'true',\n    }\n\n    Object.entries(attributes).forEach(([key, value]) => {\n      utterances.setAttribute(key, value)\n    })\n\n    element.current.appendChild(utterances)\n  }, [])\n\n  return <div className=\"comment-wrapper\" ref={element} />\n}\n\nexport default CommentWidget\n","import React, { FunctionComponent, useEffect, useMemo, useState } from 'react'\n\ntype PostTocProps = {\n  tableOfContents: string\n}\n\nconst PostToc: FunctionComponent<PostTocProps> = ({ tableOfContents }) => {\n  const [activeId, setActiveId] = useState<string>('')\n\n  useEffect(() => {\n    const headings = document.querySelectorAll<HTMLElement>(\n      '.post-contents h1[id], .post-contents h2[id], .post-contents h3[id], .post-contents h4[id]',\n    )\n\n    if (!headings.length) return\n\n    const handleScroll = () => {\n      let current = ''\n      headings.forEach(heading => {\n        if (heading.getBoundingClientRect().top <= 130) {\n          current = heading.id.toLowerCase()\n        }\n      })\n      setActiveId(current)\n    }\n\n    window.addEventListener('scroll', handleScroll, { passive: true })\n    handleScroll()\n\n    return () => window.removeEventListener('scroll', handleScroll)\n  }, [])\n\n  const processedToc = useMemo(() => {\n    if (!tableOfContents || !activeId) return tableOfContents\n\n    const parser = new DOMParser()\n    const doc = parser.parseFromString(tableOfContents, 'text/html')\n\n    doc.querySelectorAll('a').forEach(link => {\n      const href = decodeURIComponent(link.getAttribute('href') ?? '')\n        .slice(1)\n        .toLowerCase()\n      link.classList.toggle('toc-active', href === activeId)\n    })\n\n    return doc.body.innerHTML\n  }, [tableOfContents, activeId])\n\n  if (!tableOfContents) return null\n\n  return (\n    <div className=\"toc-container\">\n      <h3 className=\"toc-title\">Contents</h3>\n      <div className=\"toc\" dangerouslySetInnerHTML={{ __html: processedToc }} />\n    </div>\n  )\n}\n\nexport default PostToc\n","import React, { FunctionComponent } from 'react'\nimport authorsData from '../../data/authors.json'\n\ntype AuthorType = {\n  id: string\n  name: string\n  bio: string\n  homepage: string\n  photo: string\n}\n\nconst authors = authorsData as AuthorType[]\n\ntype PostAuthorProps = {\n  authorIds: string[]\n}\n\nconst PostAuthor: FunctionComponent<PostAuthorProps> = ({ authorIds }) => {\n  const matched = authorIds\n    .map(id => authors.find(a => a.id === id))\n    .filter((a): a is AuthorType => a !== undefined)\n\n  if (!matched.length) return null\n\n  return (\n    <div className=\"post-authors\">\n      {matched.map(author => (\n        <div key={author.id} className=\"post-author\">\n          {author.photo && (\n            <img\n              src={author.photo}\n              alt={author.name}\n              className=\"post-author-photo\"\n            />\n          )}\n          <div className=\"post-author-info\">\n            <span className=\"post-author-name\">{author.name}</span>\n            {author.bio && <p className=\"post-author-bio\">{author.bio}</p>}\n            {author.homepage && (\n              <a\n                href={author.homepage}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"post-author-link\"\n              >\n                {author.homepage}\n              </a>\n            )}\n          </div>\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default PostAuthor\n","import React, { FunctionComponent } from 'react'\nimport { graphql } from 'gatsby'\nimport { PostPageItemType } from 'types/PostItem.types'\nimport Template from 'components/Common/Template'\nimport Seo from 'components/Common/Seo'\nimport PostHead from 'components/Post/PostHead'\nimport PostContent from 'components/Post/PostContent'\nimport CommentWidget from 'components/Post/CommentWidget'\nimport PostToc from 'components/Post/PostToc'\nimport PostAuthor from 'components/Post/PostAuthor'\n\ntype PostTemplateProps = {\n  data: {\n    allMarkdownRemark: {\n      edges: PostPageItemType[]\n    }\n  }\n  location: {\n    href: string\n  }\n}\n\nconst PostTemplate: FunctionComponent<PostTemplateProps> = function ({\n  data: {\n    allMarkdownRemark: { edges },\n  },\n}) {\n  const {\n    node: {\n      html,\n      tableOfContents,\n      frontmatter: {\n        title,\n        date,\n        categories,\n        author,\n        thumbnail: {\n          childImageSharp: { gatsbyImageData },\n        },\n      },\n    },\n  } = edges[0]\n\n  return (\n    <Template>\n      <PostHead\n        title={title}\n        date={date}\n        categories={categories}\n        thumbnail={gatsbyImageData}\n      />\n      <div id=\"container\">\n        <div id=\"contents\">\n          <div className=\"contents-left\">\n            {author && author.length > 0 && (\n              <PostAuthor authorIds={author} />\n            )}\n            <PostContent html={html} />\n            <CommentWidget />\n          </div>\n          <div className=\"contents-right\">\n            <PostToc tableOfContents={tableOfContents} />\n          </div>\n        </div>\n      </div>\n    </Template>\n  )\n}\n\nexport default PostTemplate\n\nexport const Head = ({\n  data: {\n    allMarkdownRemark: { edges },\n  },\n  location,\n}: PostTemplateProps) => {\n  const {\n    node: {\n      frontmatter: {\n        title,\n        summary,\n        thumbnail: { publicURL },\n      },\n    },\n  } = edges[0]\n  return (\n    <Seo\n      title={title}\n      description={summary}\n      url={location.href}\n      image={publicURL}\n    />\n  )\n}\n\nexport const queryMarkdownDataBySlug = graphql`\n  query queryMarkdownDataBySlug($slug: String) {\n    allMarkdownRemark(filter: { fields: { slug: { eq: $slug } } }) {\n      edges {\n        node {\n          html\n          tableOfContents(maxDepth: 4)\n          frontmatter {\n            title\n            summary\n            date(formatString: \"YYYY.MM.DD\")\n            categories\n            author\n            thumbnail {\n              childImageSharp {\n                gatsbyImageData\n              }\n              publicURL\n            }\n          }\n        }\n      }\n    }\n  }\n`\n"],"names":["title","date","categories","initialHistoryLength","useRef","useEffect","current","history","length","___EmotionJSX","className","type","onClick","go","FontAwesomeIcon","icon","faArrowLeft","join","thumbnail","GatsbyImage","image","alt","PostHeadInfo","html","dangerouslySetInnerHTML","__html","element","createRef","utterances","document","createElement","attributes","src","repo","label","theme","crossorigin","async","Object","entries","forEach","_ref","key","value","setAttribute","appendChild","ref","tableOfContents","activeId","setActiveId","useState","headings","querySelectorAll","handleScroll","heading","getBoundingClientRect","top","id","toLowerCase","window","addEventListener","passive","removeEventListener","processedToc","useMemo","doc","DOMParser","parseFromString","link","href","decodeURIComponent","getAttribute","slice","classList","toggle","body","innerHTML","authors","authorIds","matched","map","find","a","filter","undefined","author","photo","name","bio","homepage","target","rel","data","allMarkdownRemark","edges","node","frontmatter","childImageSharp","gatsbyImageData","Template","PostHead","PostAuthor","PostContent","CommentWidget","PostToc","Head","_ref2","location","summary","publicURL","Seo","description","url"],"sourceRoot":""}